name: docker

on:
  push:
    branches: [ master ]

permissions:
  contents: read

env:
  TERM: dumb

jobs:
  alpine-hello:
    runs-on: ubuntu-latest
    container: alpine:latest
    steps:
      - name: env
        run: |
          nproc
          uname -a
          cat /etc/os-release
      - uses: actions/checkout@v3
      - uses: ./pre.yml
      - name: hello
        run: . /etc/os-release && printf 'Hello from %s\n' "$PRETTY_NAME"
      - name: bye
        run: |
          printf 'Bye 1\n'
          printf 'Bye 2\n'
      - name: end
        run: >
          printf '%s\n' a
          b
      - run: env | LC_ALL=C sort
